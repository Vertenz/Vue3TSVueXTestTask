import{d as h,r as d,t as R,c as u,a as c,u as p,n as C,b as I,e as v,o as l,p as $,f as w,_ as m,g as V,h as L,i as N,j as i,w as f,k as y,T as U,F as x,l as z,m as j,q}from"./index-6df54288.js";import{P as A}from"./PeopleTable-916ba11f.js";const D="/content/magnify.svg",E=o=>($("data-v-c4a61a7e"),o=o(),w(),o),O=["type","id","name","value"],G=E(()=>c("img",{src:D,alt:"search",width:"16",height:"16",loading:"lazy"},null,-1)),H={key:0,class:"error"},J=h({__name:"TheInput",emits:["update"],setup(o,{emit:e}){const n={name:"",type:"text",value:""},t=d(""),a=d(!1),s=d(null),r=_=>{const k=_.target;e("update",k.value)},B=()=>{const _=n.validation?n.validation(n.value):!0;t.value=_?"":"Invalid value"},T=()=>{a.value=!0,t.value=""},b=()=>{a.value=!1,e("update",null)},S=()=>{s.value.focus()},{name:g,type:P,value:F}=R(n);return(_,k)=>(l(),u("div",null,[c("div",{class:C(["input--wrapper",{"input--wrapper_active":a.value}]),onClick:S},[c("input",{type:p(P),id:p(g),name:p(g),value:p(F),ref_key:"input",ref:s,onInput:r,onBlur:B,onFocus:T,onFocusout:b,class:"input"},null,40,O),G],2),t.value?(l(),u("p",H,I(t.value),1)):v("",!0)]))}});const K=m(J,[["__scopeId","data-v-c4a61a7e"]]);const M={},Q={class:"scroll--box"};function W(o,e){return l(),u("div",Q,[V(o.$slots,"default",{},void 0,!0)])}const X=m(M,[["render",W],["__scopeId","data-v-bd706ddf"]]),Y={class:"block"},Z={class:"block--title"},ee=h({__name:"ResultBlock",props:{item:{}},setup(o){const e=o,n=L(()=>{var t,a;if(((t=e==null?void 0:e.item)==null?void 0:t.url)!==null){const s=/\/(\d+)\/$/,r=(a=e==null?void 0:e.item)==null?void 0:a.url.match(s);if(r&&r.length>1)return r[1]}return null});return(t,a)=>{const s=N("RouterLink");return n.value?(l(),i(s,{key:0,to:`/people/${n.value}`},{default:f(()=>[c("div",Y,[c("p",Z,I(t.item.name),1)])]),_:1},8,["to"])):v("",!0)}}});const te=m(ee,[["__scopeId","data-v-5a192c0a"]]),se=o=>($("data-v-da580685"),o=o(),w(),o),oe=se(()=>c("h1",null,"The People",-1)),ae={class:"search--wrapper"},ne=h({__name:"ThePeople",props:{people:{}},setup(o){const e=d(null),n=async t=>{var a;if(t)try{const s=await z.get(`https://swapi.dev/api/people/?search=${t}`);e.value=((a=s==null?void 0:s.data)==null?void 0:a.results)||null}catch(s){console.warn("ThePeople/onUpdate get err: ",s)}else e.value=null};return(t,a)=>(l(),u(x,null,[oe,c("div",ae,[y(K,{onUpdate:a[0]||(a[0]=s=>n(s))}),y(U,{name:"slide-fade"},{default:f(()=>[e.value&&e.value.length?(l(),i(X,{key:0,class:"scroll--box"},{default:f(()=>[(l(!0),u(x,null,j(e.value,s=>(l(),i(te,{key:s.url,item:s,class:"scroll--box-element"},null,8,["item"]))),128))]),_:1})):v("",!0)]),_:1})]),t.people&&t.people.length?(l(),i(A,{key:0,people:t.people},null,8,["people"])):v("",!0)],64))}});const le=m(ne,[["__scopeId","data-v-da580685"]]),re=h({__name:"PeopleView",setup(o){const n=q().state.people;return(t,a)=>(l(),u("section",null,[y(le,{people:p(n)},null,8,["people"])]))}});export{re as default};
